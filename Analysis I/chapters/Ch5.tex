\chapter{函数导数}

\section{求导}

\begin{deff}
    设$f:I\to\mathbb{R},a\in I$.称映射
    $$
    \tau_a(f):
    \begin{array}[t]{ccc}
        I \setminus \{a\} & \to & \mathbb{R} \\
        x & \mapsto & \frac{f(x)-f(a)}{x-a}
    \end{array}
    $$
    为$f$在$a$处的\textbf{增长率}.
\end{deff}

\begin{deff}
    称$f$在$a$处\textbf{可导},若$\lim\limits_{x \to a}\tau_a(f)(x)$存在.极限值记为$f'(a)$.
\end{deff}

\begin{rqq}
    $$f'(a)=\lim\limits_{x\to a}\frac{f(x)-f(a)}{x-a}=\lim\limits_{h\to0}\frac{f(a+h)-f(a)}{h}$$
\end{rqq}

\begin{prop}
    $f$在$a$处可导的充要条件为:$$\exists l \in \mathbb{R}, \exists \alpha: I \to \mathbb{R}, 
    f(x)=f(a)+l(x-a)+\alpha(x)(x-a),\lim\limits_{x \to a} \alpha(x)=0$$
\end{prop}

\begin{prop}
    若$f$在$a$处可导,则$f$在$a$处连续.
\end{prop}

\begin{deff}
    称$f$在区间$I$上\textbf{可导},若$f$在$I$上每一点都可导.

    称映射$f':\begin{array}[t]{ccc} I & \to & \mathbb{R} \\ x & \mapsto & f'(x) \end{array}$
    为$f$的\textbf{导函数}.

    记$\mathcal{D}(I,\mathbb{R})$为$I$上可导函数的全体.
\end{deff}

\begin{prop}
    设$f,g$在$a$处可导,则有:
    \begin{enumerate}
        \item $(f \pm g)'(a)=f'(a) \pm g'(a)$.
        \item $(fg)'(a)=f'(a)g(a)+f(a)g'(a)$.
        \item 若$g(a) \neq 0$,则$\left(\dfrac{f}{g}\right)'(a)=\dfrac{f'(a)g(a)-f(a)g'(a)}{(g(a))^2}$.
    \end{enumerate}
\end{prop}

\begin{thm}[链式法则]
    设$f:I\to\mathbb{R},g:J\to\mathbb{R},f(I)\subseteq I$.

    若$f$在$a$处可导,$g$在$f(a)$处可导,则$g \circ f$在$a$处可导,且
    $$(g \circ f)'(a)=g'(f(a))f'(a)$$
\end{thm}

\begin{thm}[反函数导数]
    设$f:I\to\mathbb{R}$为连续双射,$a\in I,b=f(a)\neq0$.则$f^{-1}在$b$处$可导,且
    $$(f^{-1})'(b)=\dfrac{1}{f'(a)}=\dfrac{1}{f'(f^{-1}(b))}$$
\end{thm}

\begin{deff}[左右导数]
    设$f:I\to\mathbb{R}$,$a$为$I$内点.

    称$f$在$a$处\textbf{右可导},若$\lim\limits_{h\to0^+}\frac{f(a+h)-f(a)}{h}$存在.极限值记为$f'_+(a)$.

    称$f$在$a$处\textbf{左可导},若$\lim\limits_{h\to0^-}\frac{f(a+h)-f(a)}{h}$存在.极限值记为$f'_-(a)$.
\end{deff}

\section{中值定理}

\begin{deff}
    设$f:I\to\mathbb{R}$,$a$为$I$内点.
    
    称$f$在$a$处取到\textbf{极大值},若存在$\delta>0$,
    当$0<\left\lvert x-a \right\rvert \leqslant \delta$时,有$f(x) \leqslant f(a)$.

    称$f$在$a$处取到\textbf{极小值},若存在$\delta>0$,
    当$0<\left\lvert x-a \right\rvert \leqslant \delta$时,有$f(x) \geqslant f(a)$.
\end{deff}

\begin{thm}[Fermat]
    设$f:I\to\mathbb{R}$,$a$为$I$内点,$f$在$a$处可到且$f$在$a$处取到极值,则$f'(a)=0$.
\end{thm}

\begin{thm}[Rolle]
    设$f:[a,b]\to\mathbb{R}$在$[a,b]$上连续,在$(a,b)$上可导,满足$f(a)=f(b)$,则存在$c\in(a,b)$,使得$f'(c)=0$.
\end{thm}

\begin{thm}[Lagrange]
    设$f:[a,b]\to\mathbb{R}$在$[a,b]$上连续,在$(a,b)$上可导,则存在$c\in(a,b)$,使得$f(b)-f(a)=f'(c)(b-a)$.
\end{thm}

\begin{thm}[Cauchy]
    设$f,g:[a,b]\to\mathbb{R}$在$[a,b]$上连续,在$(a,b)$上可导,且$g'(x) \neq 0$,则存在$c\in(a,b)$,使得
    $$\dfrac{f'(c)}{g'(c)}=\dfrac{f(b)-f(a)}{g(b)-g(a)}$$
\end{thm}

\begin{thm}[Darboux]
    设$f\in\mathcal{D}([a,b],\mathbb{R}),c\in\mathbb{R}$.若$f'(a)<c<f'(b)$,
    则存在$\xi\in[a,b]$,使得$f'(\xi)=c$.
\end{thm}

\section{$a_{n+1}=f(a_n)$}

\begin{deff}
    设$f:I\to\mathbb{R}$.称$f$是\textbf{压缩的},若存在$k\in(0,1)$,使得$f$是$k$-Lipschitz的.
\end{deff}

\begin{prop}
    若$f:I\to I$是压缩的,则$f$在$I$上有唯一不动点.
\end{prop}

\begin{prop}
    设$f:I\to I$是压缩的,序列$(u_n)$满足$u_0\in I,u_{n+1}=f(u_n)$,
    $c$为$f$的不动点,则$\lim\limits_{n\to\infty}u_n=c$.
\end{prop}

\section{$\mathcal{C}^n$函数类}

\begin{prop}
    设$f:I\to\mathbb{R},a\in I$.若$f$在$I$上连续,在$I\setminus\{a\}$上可导,
    $\lim\limits_{x\to a}f'(x)=l$,则$f$在$a$处可导且$f'(a)=l$.
\end{prop}

\begin{deff}
    设$f:I\to\mathbb{R}$.称$f$为$\mathcal{C}^1$的,若$f$在$I$上可导且$f'$连续.
    $I$上$\mathcal{C}^1$函数的全体记为$\mathcal{C}^1(I,\mathcal{R})$.
\end{deff}

\begin{thm}
    设$f\in\mathcal{C}^1(I,\mathbb{R})$,则$f$是$M$-Lipschitz的,
    其中$M=\max\limits_{x\in I}\left\lvert f'(x) \right\rvert$
\end{thm}

\begin{deff}
    设$f:I\to\mathbb{R}$,称$f$在$I$上\textbf{二阶可导},若$f$在$I$上可导且$f'$在$I$上可导.
    称$(f')'$为$f$的二阶导函数,记为$f''$或$f^{(2)}$.
\end{deff}

\begin{prop}
    若$f$二阶可导,则$f$是$\mathcal{C}^1$的.
\end{prop}

\begin{deff}
    设$f:I\to\mathbb{R}$,称$f$在$I$上$n$\textbf{阶可导},若$f$在$I$上$n-1$阶可导且$f^{(n-1)}$在$I$上可导.
    称$(f^{(n-1)})'$为$f$的$n$阶导函数,记为$f^{(n)}$.
\end{deff}

\begin{deff}
    设$f:I\to\mathbb{R},n\in\mathbb{N}^*$.称$f$为$\mathcal{C}^n$的,若$f$在$I$上$n$阶可导且$f^{(n)}$连续.
    $I$上$\mathcal{C}^n$函数的全体记为$\mathcal{C}^n(I,\mathcal{R})$.
\end{deff}

\begin{deff}
    设$f:I\to\mathbb{R}$.称$f$为$\mathcal{C}^{\infty}$的,若对于任意$n\in\mathbb{N}$,
    均有$f$是$\mathcal{C}^n$的.此时也称$f$是\textbf{光滑的}.
\end{deff}

\begin{rqq}
    $\mathcal{C}^0$函数是指连续函数.
\end{rqq}

\begin{prop}
    设$p,q\in\mathbb{N},f\in\mathcal{C}^{p+q}(I,\mathbb{R})$,
    则$f\in\mathcal{C}^p(I,\mathbb{R})$,且$f^{(p)}\in\mathcal{C}^q(I,\mathbb{R})$.
\end{prop}

\begin{thm}
    设$f,g\in\mathcal{C}^n(I,\mathbb{R}),\lambda,\mu\in\mathbb{R}$,
    则$\lambda f+\mu g\in\mathcal{C}^n(I,\mathbb{R})$,
    且$$(\lambda f+\mu g)^{(n)}=\lambda f^{(n)}+\mu g^{(n)}$$
\end{thm}

\begin{thm}[Leibniz]
    设$f,g\in\mathcal{C}^n(I,\mathbb{R})$,则$fg\in\mathcal{C}(I,\mathbb{R})$,
    且$$(fg)^{(n)}=\sum\limits_{k=0}^n\binom{n}{k}f^{(k)}g^{(n-k)}$$
\end{thm}

\begin{thm}
    设$f\in\mathcal{C}^n(I,\mathbb{R}),g\in\mathcal{C}^n(J,\mathbb{R}),f(I)\subseteq J$,
    则$g \circ f\in\mathcal{C}^n(I,\mathbb{R})$.
\end{thm}

\begin{thm}
    设$f\in\mathcal{C}^n(I,J)$为双射,则$f^{-1}\in\mathcal{C}^n(J,I)$.
\end{thm}

\begin{thm}[$\mathcal{C}^n$函数类的延拓]
    设$a\in I,f\in\mathcal{C}^n(I\setminus\{a\},\mathbb{R})$.若$f$在$a$处存在有限的极限$l_k$,
    则$f$有$\mathcal{C}^n$类中的一个延拓.

    即,存在$\tilde{f}\in\mathcal{C}^n(I,\mathbb{R})$,
    满足$\tilde{f}\vert_{I\setminus\{a\}}=f,f^{(k)}(a)=l_k$.
\end{thm}

\begin{thm}[高阶Lagrange中值定理]
    设$f\in\mathcal{C}^n(I,\mathbb{R}),x_0\in I$,则
    $f(x)=\sum\limits_{k=0}^n\dfrac{f^{(k)}(x_0)}{k!}(x-x_0)^k+o\left((x-x_0)^{n+1}\right)$.
\end{thm}

\section{复值函数的情形}

\begin{thm}
    设$f:I\to\mathbb{C},f=\mathrm{Re}f+i\mathrm{Im}f$.则$f$可导的充要条件是
    $\mathrm{Re}f$与$\mathrm{Im}f$均可导.
\end{thm}

\begin{prop}
    设$f:I\to\mathbb{C}$可导,则$f'=(\mathrm{Re}f)'+i(\mathrm{Im}f)'$.
\end{prop}

\begin{prop}
    $$\bar{(f')}=(\bar{f})'$$
\end{prop}

\begin{rqq}
    若$f:I\to\mathbb{C}$,则$g=\left\lvert f \right\rvert$不一定可导.
\end{rqq}

\begin{prop}
    设$f:I\to\mathbb{C}$.则$f$为常值函数$\Leftrightarrow$$f'=0$.
\end{prop}

\begin{rqq}
    若$f:I\to\mathbb{C}$,则对于$f$不一定成立Lagrange中值定理.
\end{rqq}

\begin{thm}
    设$f:I\to\mathbb{R}$.若存在$M>0$,满足$\left\lvert f'(z) \right\rvert \leqslant M$,
    则对任意$x,y\in I$,有$\left\lvert f(x)-f(y) \right\rvert \leqslant 
    M \left\lvert x-y \right\rvert$.
\end{thm}

\section{凸函数}

\begin{thm}
    设$f:I\to\mathbb{R}$,$a$为$I$内点,$f$在$a$处二阶可导且$f'(a)=0$.
    若$f''(a)>(<)0$,则$a$为$f$的极大(小)值点.
\end{thm}

\begin{rqq}
    $f''(a)=0$时不一定.
\end{rqq}

\begin{lem}[John]
    设$K$为闭凸体,$E$为包含$K$的最小椭球,则$\frac{1}{2} E \subseteq K \subseteq E$.
\end{lem}

\begin{deff}
    设$x_i\in\mathbb{R}^n,\lambda_i\in\mathbb{R},i=1,2,\cdots,p$满足$\sum\limits_{i=1}^p\lambda_i\neq0$.
    加权点$(x_i,\lambda_i)$的\textbf{质心}定义为$\dfrac{\sum\limits_{i=1}^p\lambda_ix_i}{\sum\limits_{i=1}^p\lambda_i}$.
\end{deff}

\begin{deff}
    满足$\lambda_i \geqslant 0$且$\sum\limits_{i=1}^p$的质心称为\textbf{凸组合}.
\end{deff}

\begin{deff}
    设$C\in\mathbb{R}^n$.称$C$为\textbf{凸集},
    若对于任意$\lambda\in[0,1],c_1,c_2\in C$,均有$\lambda c_1+(1-\lambda)c_2 \in C$.
\end{deff}

\begin{prop}
    凸集的交集是凸集.
\end{prop}

\begin{rqq}
    凸集的并集不一定是凸集.
\end{rqq}

\begin{prop}
    设$C$为凸集,$x_i\in C$,$\lambda_i\geqslant0$且不全为$0$,则$(x_i,\lambda_i)$的质心也在$C$中.
\end{prop}

\begin{prop}
    设$C$为凸集,$x_1,x_2,\cdots,x_p\in C$,则$c_1,c_2,\cdots,c_p$的任意凸组合都在$C$中.
\end{prop}

\begin{deff}
    设$f:I\to\mathbb{R}$.称$f$为$I$上的一个\textbf{凸函数},若对于任意$x_1,x_2\in I,\lambda\in\mathbb{R}$,
    均有$\lambda f(x_1)+(1-\lambda)f(x_2)\geqslant f(\lambda x_1+(1-\lambda)x_2)$.
\end{deff}

\begin{thm}
    若$f$为$I$上凸函数,则$f$在$I$上连续.
\end{thm}

\begin{thm}[Alexandroov]
    若$f$为凸函数,则$f$几乎处处可导,且几乎处处二阶可导.
\end{thm}

\begin{prop}
    若$f$在$[a,b]$上凸,$f(a)=f(b)$,则$f(x)\geqslant f(a)$.
\end{prop}

\begin{prop}
    设$f,g$为凸函数,$g$单调增,则$g\circ f$为凸函数.
\end{prop}

\begin{deff}
    设$f:I\to\mathbb{R}$,称$\varepsilon_f=\{(x,y)\in I\times\mathbb{R}\mid f(x)\leqslant y\}$
    为$f$的\textbf{上方集}.
\end{deff}

\begin{prop}
    $f$为凸函数$\Leftrightarrow$$\varepsilon_f$为凸集.
\end{prop}

\begin{prop}
    设$f$为$I$上凸函数,$x,y,z\in I$满足$x<y<z$,则
    $$\dfrac{f(y)-f(x)}{y-x}\leqslant\dfrac{f(z)-f(x)}{z-x}\leqslant\frac{f(z)-f(y)}{z-y}$$
\end{prop}

\begin{prop}
    设$f$在$I$上可导,则$f$在$I$上凸的充要条件是$f'$在$I$上单调增.
\end{prop}

\begin{prop}
    设$f$凸,则$f(x)\geqslant f'(x_0)(x-x_0)+f(x_)0$.
\end{prop}

\begin{thm}[Jensen不等式]
    设$f$在$I$上凸,$x_i\in I,\lambda_i\in\mathbb{R}_+$满足$\sum\limits_{i=0}^p\lambda_i=1$,
    则$\sum\limits_{i=0}^p\lambda_if(x_i)\geqslant f\left(\sum\limits_{i=0}^p\lambda_ix_i\right)$.
\end{thm}

\begin{thm}[Young不等式]
    设$a,b>0,p,q>1,\frac{1}{p}+\frac{1}{q}=1$,则$a^{\frac{1}{p}}+b^{\frac{1}{q}}\geqslant ab$.
\end{thm}

\begin{thm}[Hölder不等式]
    设$a_i,b_i>0,p,q>1,\frac{1}{p}+\frac{1}{q}=1$,则
    $$\left(\sum\limits_{i=0}^na_i^p\right)^{\frac{1}{p}}+
    \left(\sum\limits_{i=0}^nb_i^q\right)^{\frac{1}{q}}
    \geqslant\sum\limits_{i=0}^na_ib_i$$
\end{thm}

\begin{thm}[Minkowski不等式]
    设$a_i,b_i>0,p>1$,则
    $$\left(\sum\limits_{i=0}^na_i^p\right)^\frac{1}{p}
    \left(\sum\limits_{i=0}^nb_i^p\right)^\frac{1}{p}\geqslant
    \left(\sum\limits_{i=0}^n\left(a_i+b_i\right)^p\right)^\frac{1}{p}$$
\end{thm}